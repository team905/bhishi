{
  "version": 2,
  "buildCommand": "cd frontend && npm install && npm run build",
  "outputDirectory": "frontend/build",
  "rewrites": [
    {
      "source": "/api/(.*)",
      "destination": "/api/index.js"
    },
    {
      "source": "/(.*)",
      "destination": "/index.html"
    }
  ],
  "functions": {
    "api/index.js": {
      "runtime": "nodejs18.x",
      "maxDuration": 30
    },
    "api/cron/close-cycles.js": {
      "runtime": "nodejs18.x",
      "maxDuration": 60
    }
  },
  // Cron jobs removed - using API-triggered checks instead (works on free tier)
  // If you upgrade to Pro plan, you can uncomment and use cron jobs:
  // "crons": [
  //   {
  //     "path": "/api/cron/close-cycles",
  //     "schedule": "*/1 * * * *"
  //   }
  // ]
}
